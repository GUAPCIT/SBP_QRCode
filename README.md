# Генерация qr-кода для оплаты через СБП

## Запрос qr-кода

JSON:

      {
         "sum": 0,
         "payer": "",
         "purpose": ""
      }

Где:

| Параметр | Тип | Описание | Пример |
|---|---|---|---|
| sum | целое число | сумма платежа (**в копейках!!!**) | 123400 |
| payer | строка[250] | ФИО плательщика | "Иванов Иван Иванович" |
| purpose | строка[400] | назначение платежа в формате: `"[{назначение}] {договор} // {параметры}"` | "[обуч] 1234567-89/01 от 04.09.2021 (Иванов Иван Иванович) // за 1-2 семестр" |

- **`{назначение}`** может принимать значения `"обуч"` или `"прожив"`, что соответствует «Оплата за обучение» или «Оплата за проживания в общежитии».
- **`{договор}`** соответствует формату `"{номер договора} от {дата договор} ({фио обучающегося})"`.
- **`{параметры}`** произвольный текст, уточняющий детали платежа.

Примеры:

      {
         "sum": 48000,
         "payer": "Пушкин Александр Сергеевич",
         "purpose": "[обуч] 1234567-89/01 от 04.09.2021 (Лермонтов Михаил Юрьевич) // за 3-4 семестр"
      }
      
      {
         "sum": 4000,
         "payer": "Лев Николаевич Толстой",
         "purpose": "[прожив] 2345-67/89 от 01.01.2021 (Лев Николаевич Толстой) // за сентябрь-май 2021/22 уч. года"
      }

      {
         "sum": 4000,
         "payer": "Борисова Анна Григорьевна",
         "purpose": "[прожив] 2345-67/89 от 01.01.2021 (Брусникин Анатолий Григорьевич) // за сентябрь-май 2021/22 уч. года"
      }



## Ответ на запрос qr-кода

JSON:

      {
         "qr_code": "url изображения QR-кода заданного размера, хранящегося на сервере QRM до истечения заданного ttl или факта оплаты",
         "qr_link": "url от СБП",
         "number": "уникальный номер заказа для фискализации операции",
         "operation_id": "UUID операции для получения статуса оплаты qr-кода по веб-сокету"
      }

(далее, согласно спецификации REST API QRM)



## Данные в банковской выписке для бухгалтерии ГУАП

Выписка должна содержать следующую информацию:
- дата и время платежа
- сумма платежа
- назначение платежа (как в формате запроса qr-кода)
- фио плательщика


